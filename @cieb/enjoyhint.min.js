"use strict";let $=null,jquery=null,JQuery=null;async function setup_enviroment(){let t=document.createElement("script");t.src="https://code.jquery.com/jquery-3.5.1.min.js",document.head.appendChild(t),JQuery(document).ready(function(){$.getScript("https://cdnjs.cloudflare.com/ajax/libs/kineticjs/5.2.0/kinetic.js"),$.getScript("https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.2/jquery.scrollTo.min.js")})}function main(t,e,n,i,o,r,s,a,h,c,l,d,_,p,u,y,f,w,v){setTimeout(function(){var t=$(e.selector);t.length>1&&(t=$(t[1]));var h=n(e.event);if(i.enjoyhint("show"),a=t,e.event_selector&&(a=$(e.event_selector)),a.off(h),t.off("keydown"),e.event_type||"key"!=e.event||t.keydown(function(t){t.which==e.keyCode&&(o++,p())}),!0!==e.showNext&&i.enjoyhint("hide_next"),i.enjoyhint("hide_prev"),0!==o&&i.enjoyhint("show_prev"),0==e.showPrev&&i.enjoyhint("hide_prev"),0==e.showSkip?i.enjoyhint("hide_skip"):i.enjoyhint("show_skip"),e.nextButton){var d=$(".enjoyhint_next_btn");d.addClass(e.nextButton.className||""),d.text(e.nextButton.text||"PrÃ³ximo"),s.nextUserClass=e.nextButton.className}if(e.prevButton){var _=$(".enjoyhint_prev_btn");_.addClass(e.prevButton.className||""),_.text(e.prevButton.text||"Anterior"),s.prevUserClass=e.prevButton.className}if(e.skipButton){var u=$(".enjoyhint_skip_btn");u.addClass(e.skipButton.className||""),u.text(e.skipButton.text||"Fechar"),s.skipUserClass=e.skipButton.className}if(e.event_type)switch(e.event_type){case"auto":return t[e.event](),e.event,o++,void p();case"custom":w(e.event,function(){o++,v(e.event),p()});break;case"next":i.enjoyhint("show_next")}else a.on(h,function(t){e.keyCode&&t.keyCode!=e.keyCode||(o++,p())});var y=t.outerWidth(),f=t.outerHeight();0==y&&(y=t[0].getBoundingClientRect().width),0==f&&(f=t[0].getBoundingClientRect().height),r&&c>0&&(f*=c),r&&l>0&&(y*=l);var m=Math.max(y,f),b=e.radius||Math.round(m/2)+5,g=t.offset(),j=void 0!==e.margin?e.margin:10,x={x:g.left+Math.round(y/2),y:g.top+Math.round(f/2)-$(document).scrollTop()},k={enjoyHintElementSelector:e.selector,center_x:x.x,center_y:x.y,text:e.description,arrowColor:e.arrowColor,top:e.top,bottom:e.bottom,left:e.left,right:e.right,margin:e.margin,scroll:e.scroll};0!==k.center_x||0!==k.center_y?(e.shape&&"circle"==e.shape?(k.shape="circle",k.radius=b):(k.radius=0,k.width=y+j,k.height=f+j),i.enjoyhint("render_label_with_shape",k,s.stop)):i.enjoyhint("hide")},t+20||270)}!function(){let t=document.createElement("script");t.src="https://code.jquery.com/jquery-3.5.1.min.js",t.type="text/javascript",t.onload=function(){$=window.jQuery,jquery=JQuery=$,$.getScript("https://cdnjs.cloudflare.com/ajax/libs/kineticjs/5.2.0/kinetic.js"),$.getScript("https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.2/jquery.scrollTo.min.js"),(t=document.createElement("script")).src='"https://cdnjs.cloudflare.com/ajax/libs/kineticjs/5.2.0/kinetic.js"',t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t),(t=document.createElement("script")).src="https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.2/jquery.scrollTo.min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)},document.getElementsByTagName("head")[0].appendChild(t)}(),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.enjoyhint.js","jquery.scrollto"],t):"function"==typeof require&&"object"==typeof exports?module.exports=t(require("jquery"),require("./jquery.enjoyhint.js"),require("jquery.scrollto")):window.EnjoyHint=t(jQuery)}(function(t){return function(e){var n=this,i=e||{},o=i.btnNextText,r=i.btnPrevText,s=i.btnSkipText,a=i.backgroundColor||"rgba(0,0,0,0.6)",h=t.extend({onStart:function(){},onEnd:function(){},onSkip:function(){},onNext:function(){}},i),c=[],l=0,d=t("body"),_=h.carousel,p=h.custom_size,u=function(t){t.preventDefault()},y=function(){t(".enjoyhint").remove(),d.css({overflow:"auto"}),t(document).off("touchmove",u)};function f(){d.enjoyhint("render_circle",[]),t("#enjoyhint_label").remove(),t("#enjoyhint_arrpw_line").remove(),d.enjoyhint("hide_prev"),d.enjoyhint("hide_next"),d.enjoyhint("hide_skip")}n.clear=function(){var e=t(".enjoyhint_next_btn"),i=t(".enjoyhint_prev_btn"),a=t(".enjoyhint_skip_btn");e.removeClass(n.nextUserClass),e.text(o),i.removeClass(n.prevUserClass),i.text(r),a.removeClass(n.skipUserClass),a.text(s)};var w=function(){if(!c||!c[l])return d.enjoyhint("hide"),h.onEnd(),void y();h.onNext();var e=t(".enjoyhint");e.removeClass("enjoyhint-step-"+l),e.removeClass("enjoyhint-step-"+(l+1)),e.removeClass("enjoyhint-step-"+(l+2)),e.addClass("enjoyhint-step-"+(l+1));var i=c[l],o=i.scrollAnimationSpeed;i.onBeforeStart&&"function"==typeof i.onBeforeStart&&i.onBeforeStart();var r=i.timeout||0;setTimeout(function(){if(!i.selector)for(var e in i)i.hasOwnProperty(e)&&e.split(" ")[1]&&(i.selector=e.split(" ")[1],i.event=e.split(" ")[0],"next"!=e.split(" ")[0]&&"auto"!=e.split(" ")[0]&&"custom"!=e.split(" ")[0]||(i.event_type=e.split(" ")[0]),i.description=i[e]);if(setTimeout(function(){n.clear()},250),void 0===(r=t(i.selector).get(1)))var r=t(i.selector).get(0);(r=r.getBoundingClientRect()).top<0||r.bottom>(window.innerHeight||document.documentElement.clientHeight)?(f(),t(document.body).scrollTo(i.selector,i.scrollAnimationSpeed||250,{offset:-200})):o=250;var s=t(i.selector);let a=!1,h=!1,c=0,k=0;if(p)for(let t of p)if(s.hasClass(t.c_class)){h=!0,c=t.times_w,k=t.times_h;break}if(_){for(let e of _.slides)for(let n of e.tutorial_class)if(s.hasClass(n)&&!t(".carousel-item.active").hasClass(e.active_item)){t("#navigation").carousel(e.slide_to),a=!0;break}a?t("#navigation").on(_.class,function(t){a=!1,main(o,i,g,d,l,h,n,void 0,y,k,c,u,f,w,v,m,b,j,x)}):main(o,i,g,d,l,h,n,void 0,y,k,c,u,f,w,v,m,b,j,x)}else main(o,i,g,d,l,h,n,void 0,k,c,u,f,w,v,m,b,j,x)},r)},v=function(){l++,w()},m=function(){l--,w()},b=function(){var e=c[l],n=t(e.selector);x(e.event),n.off(g(e.event)),y()},g=function(t,e){return t+(e?"custom":"")+".enjoy_hint"},j=function(t,e){d.on(g(t,!0),e)},x=function(t){d.off(g(t,!0))};window.addEventListener("resize",function(){},!1),n.stop=function(){b()},n.reRunScript=function(t){l=t,w()},n.runScript=function(){l=0,h.onStart(),w()},n.resumeScript=function(){w()},n.setCurrentStep=function(t){l=t},n.getCurrentStep=function(){return l},n.trigger=function(t){switch(t){case"next":v();break;case"skip":b();break;default:d.trigger(g(t,!0))}},n.setScript=function(t){if(!(t instanceof Array)&&t.length<1)throw new Error("Configurations list isn't correct.");c=t},n.set=function(t){n.setScript(t)},n.setSteps=function(t){n.setScript(t)},n.run=function(){n.runScript()},n.resume=function(){n.resumeScript()},t(".enjoyhint")&&t(".enjoyhint").remove(),d.css({overflow:"hidden"}),t(document).on("touchmove",u),d.enjoyhint({onNextClick:function(){v()},onPrevClick:function(){m()},onSkipClick:function(){h.onSkip(),b()},fill:a})}}),CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,o){return n<2*o&&(o=n/2),i<2*o&&(o=i/2),this.beginPath(),this.moveTo(t+o,e),this.arcTo(t+n,e,t+n,e+i,o),this.arcTo(t+n,e+i,t,e+i,o),this.arcTo(t,e+i,t,e,o),this.arcTo(t,e,t+n,e,o),this.closePath(),this},function(t){"function"==typeof define&&define.amd?define(["jquery","kinetic"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery"),require("kinetic")):t(jQuery,Kinetic)}(function(t,e){var n,i=window.innerWidth,o=window.innerHeight,r={init:function(r){return this.each(function(){this.enjoyhint_obj={},(n=this.enjoyhint_obj).resetComponentStuff=function(){null,null,null,null,null,null,null,null,null,null,i=window.innerWidth,o=window.innerHeight};var s=t(this);function a(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)n.setAttribute(i,e[i]);return n}n.options=t.extend({onNextClick:function(){},onSkipClick:function(){},onPrevClick:function(){},animation_time:800},r),n.gcl={chooser:"enjoyhint"},n.cl={enjoy_hint:"enjoyhint",hide:"enjoyhint_hide",disable_events_element:"enjoyhint_disable_events",btn:"enjoyhint_btn",skip_btn:"enjoyhint_skip_btn",close_btn:"enjoyhint_close_btn",next_btn:"enjoyhint_next_btn",previous_btn:"enjoyhint_prev_btn",main_canvas:"enjoyhint_canvas",main_svg:"enjoyhint_svg",svg_wrapper:"enjoyhint_svg_wrapper",svg_transparent:"enjoyhint_svg_transparent",kinetic_container:"kinetic_container"},n.canvas_size={w:1.4*t(window).width(),h:1.4*t(window).height()};n.enjoyhint=t("<div>",{class:n.cl.enjoy_hint+" "+n.cl.svg_transparent}).appendTo(s),n.enjoyhint_svg_wrapper=t("<div>",{class:n.cl.svg_wrapper+" "+n.cl.svg_transparent}).appendTo(n.enjoyhint),n.$stage_container=t('<div id="'+n.cl.kinetic_container+'">').appendTo(n.enjoyhint),n.$canvas=t('<canvas id="enj_canvas" width="'+n.canvas_size.w+'" height="'+n.canvas_size.h+'" class="'+n.cl.main_canvas+'">').appendTo(n.enjoyhint),n.$svg=t('<svg width="'+n.canvas_size.w+'" height="'+n.canvas_size.h+'" class="'+n.cl.main_canvas+" "+n.cl.main_svg+'">').appendTo(n.enjoyhint_svg_wrapper);var h=t(a("defs")),c=t(a("marker",{id:"arrowMarker",viewBox:"0 0 36 21",refX:"21",refY:"10",markerUnits:"strokeWidth",orient:"auto",markerWidth:"16",markerHeight:"12"})),l=t(a("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:2",d:"M0,0 c30,11 30,9 0,20",id:"poliline"}));h.append(c.append(l)).appendTo(n.$svg),n.kinetic_stage=new e.Stage({container:n.cl.kinetic_container,width:n.canvas_size.w,height:n.canvas_size.h,scaleX:1}),n.layer=new e.Layer,n.rect=new e.Rect({fill:r.fill,width:n.canvas_size.w,height:n.canvas_size.h});var d=t("<div>",{class:n.cl.disable_events_element}).appendTo(n.enjoyhint),_=d.clone().appendTo(n.enjoyhint),p=d.clone().appendTo(n.enjoyhint),u=d.clone().appendTo(n.enjoyhint),y=function(t){t.stopImmediatePropagation()};t("button").focusout(y),d.click(y),_.click(y),p.click(y),u.click(y),n.$skip_btn=t("<div>",{class:n.cl.skip_btn}).appendTo(n.enjoyhint).html("Fechar").click(function(t){n.hide(),n.options.onSkipClick()}),n.$next_btn=t("<div>",{class:n.cl.next_btn}).appendTo(n.enjoyhint).html("PrÃ³ximo").click(function(t){n.options.onNextClick()}),n.$close_btn=t("<div>",{class:n.cl.close_btn}).appendTo(n.enjoyhint).html("").click(function(t){n.hide(),n.options.onSkipClick()}),n.$prev_btn=t("<div>",{class:n.cl.previous_btn}).appendTo(n.enjoyhint).html("Anterior").click(function(t){n.options.onPrevClick()}),n.$canvas.mousedown(function(e){t("canvas").css({left:"4000px"});var n=document.elementFromPoint(e.clientX,e.clientY);return t("canvas").css({left:"0px"}),t(n).click(),!1});var f;n.shape=new e.Shape({radius:0,center_x:-130,center_y:-130,width:0,height:0,sceneFunc:function(t){var e=this.getContext("2d")._context,n=(this.pos,e.globalCompositeOperation);e.globalCompositeOperation="destination-out",e.beginPath();var i=this.attrs.center_x-Math.round(this.attrs.width/2),o=this.attrs.center_y-Math.round(this.attrs.height/2);e.roundRect(i,o,this.attrs.width,this.attrs.height,this.attrs.radius),e.fill(),e.globalCompositeOperation=n}}),n.shape.radius=0,n.layer.add(n.rect),n.layer.add(n.shape),n.kinetic_stage.add(n.layer),t(window).on("resize",function(){if(clearTimeout(f),t(".enjoyhint_next_btn").css("visibility","hidden"),t(".enjoyhint_prev_btn").css("visibility","hidden"),t(".enjoyhint_skip_btn").css("visibility","hidden"),t(".enjoy_hint_label").remove(),t("#enjoyhint_arrpw_line").remove(),!t(n.stepData.enjoyHintElementSelector).is(":visible"))return n.stopFunction(),void t(window).off("resize");var s=t(n.stepData.enjoyHintElementSelector)[0].getBoundingClientRect();function a(){var e=t(n.stepData.enjoyHintElementSelector).get(0).getBoundingClientRect();n.stepData.center_x=e.left+e.width/2,n.stepData.center_y=e.top+e.height/2,n.stepData.width=e.width+11,n.stepData.height=e.height+11,n.renderLabelWithShape(n.stepData),t(".enjoyhint_next_btn").css("visibility","visible"),t(".enjoyhint_prev_btn").css("visibility","visible"),t(".enjoyhint_skip_btn").css("visibility","visible")}n.shape.attrs.center_x=Math.round(s.left+s.width/2),n.shape.attrs.center_y=Math.round(s.top+s.height/2),n.shape.attrs.width=s.width+11,n.shape.attrs.height=s.height+11,f=setTimeout(function(){s.top<0||s.bottom>(window.innerHeight||document.documentElement.clientHeight)?t(document.body).scrollTo(n.stepData.enjoyHintElementSelector,150,{offset:-200,onAfter:a}):a()},150);var h=window.innerWidth,c=window.innerHeight,l=h/i,d=c/o;n.kinetic_stage.setAttr("width",i*l),n.kinetic_stage.setAttr("height",o*d),n.rect=new e.Rect({fill:r.fill,width:window.innerWidth,height:window.innerHeight}),n.layer.removeChildren(),n.layer.add(n.rect),n.layer.add(n.shape),n.kinetic_stage.draw()});n.enjoyhint;return n.show=function(){n.enjoyhint.removeClass(n.cl.hide)},n.hide=function(){n.enjoyhint.addClass(n.cl.hide),new e.Tween({node:n.shape,duration:.002,center_x:-130,center_y:-130}).play()},n.hide(),n.hideNextBtn=function(){n.$next_btn.addClass(n.cl.hide),n.nextBtn="hide"},n.hidePrevBtn=function(){n.$prev_btn.addClass(n.cl.hide),n.prevBtn="hide"},n.showPrevBtn=function(){n.$prev_btn.removeClass(n.cl.hide),n.prevBtn="show"},n.showNextBtn=function(){n.$next_btn.removeClass(n.cl.hide),n.nextBtn="show"},n.hideSkipBtn=function(){n.$skip_btn.addClass(n.cl.hide)},n.showSkipBtn=function(){n.$skip_btn.removeClass(n.cl.hide)},n.renderCircle=function(t){var i=t.r||0,o=t.x||0,r=t.y||0;new e.Tween({node:n.shape,duration:.2,center_x:o,center_y:r,width:2*i,height:2*i,radius:i}).play();var s=o-i,a=o+i,h=r-i,c=r+i;return{x:o,y:r,left:s,right:a,top:h,bottom:c,conn:{left:{x:s-20,y:r},right:{x:a+20,y:r},top:{x:o,y:h-20},bottom:{x:o,y:c+20}}}},n.renderRect=function(t,i){var o=t.r||0,r=t.x||0,s=t.y||0,a=t.w||0,h=t.h||0;new e.Tween({node:n.shape,duration:i,center_x:r,center_y:s,width:a,height:h,radius:o}).play();var c=Math.round(a/2),l=Math.round(h/2),d=r-c,_=r+c,p=s-l,u=s+l;return{x:r,y:s,left:d,right:_,top:p,bottom:u,conn:{left:{x:d-20,y:s},right:{x:_+20,y:s},top:{x:r,y:p-20},bottom:{x:r,y:u+20}}}},n.renderLabel=function(e){var i=e.x||0;n.originalElementX=i;var o=e.y||0,r=(e.text,n.getLabelElement({x:i,y:o,text:e.text})),s=r.width(),a=r.height(),h=r.offset().left,c=r.offset().left+s,l=r.offset().top-t(document).scrollTop(),d=r.offset().top-t(document).scrollTop()+a,_={x:h-10,y:l+Math.round(a/2)},p={x:c+10,y:l+Math.round(a/2)},u={x:h+Math.round(s/2),y:l-10},y={x:h+Math.round(s/2),y:d+10};return r.detach(),setTimeout(function(){t("#enjoyhint_label").remove(),r.appendTo(n.enjoyhint)},n.options.animation_time/2),{label:r,left:h,right:c,top:l,bottom:d,conn:{left:_,right:p,top:u,bottom:y}}},n.setMarkerColor=function(e){if(function(t){const e=(new Option).style;return e.color=t,""!==e.color}(e))return[t("#poliline"),t("#enjoyhint_arrpw_line")].forEach(function(t){t.css("stroke",e)});t("#poliline").css("stroke","rgb(255,255,255)")},n.renderArrow=function(e){var i=e.x_from||0,o=e.y_from||0,r=e.x_to||0,s=e.y_to||0,h=0,c=0;"hor"===e.by_top_side?(h=r,c=o):(h=i,c=s),n.enjoyhint.addClass(n.cl.svg_transparent),setTimeout(function(){t("#enjoyhint_arrpw_line").remove();var e="M"+i+","+o+" Q"+h+","+c+" "+r+","+s;n.$svg.append(a("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:3","marker-end":"url(#arrowMarker)",d:e,id:"enjoyhint_arrpw_line"})),n.stepData.arrowColor?n.setMarkerColor(n.stepData.arrowColor):t("#poliline").css("stroke","rgb(255, 255, 255)"),n.enjoyhint.removeClass(n.cl.svg_transparent)},n.options.animation_time/2)},n.getLabelElement=function(e){return t("<div>",{class:"enjoy_hint_label",id:"enjoyhint_label"}).css({top:e.y+"px",left:e.x+"px"}).html(e.text).appendTo(n.enjoyhint)},n.disableEventsNearRect=function(t){d.css({top:"0",left:"0"}).height(t.top),_.css({top:t.bottom+"px",left:"0"}),p.css({top:"0",left:"0px"}).width(t.left),u.css({top:"0",left:t.right+"px"})},function(t){t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(t),n.renderLabelWithShape=function(e){n.stepData=e;var i=function e(n){return"MD-DIALOG"===n.tagName?n:void 0===n.tagName?null:e(t(n).parent()[0])}(t(n.stepData.enjoyHintElementSelector)[0]);null!=i&&t(i).on("dialogClosing",function(){n.stopFunction()}),n.resetComponentStuff();var o=e.shape||"rect",r={},s=0,a=0,h=e.top||0,c=e.bottom||0,l=e.left||0,d=e.right||0;switch(o){case"circle":s=a=e.radius;var _=(f={top:e.center_y-a+h,bottom:e.center_y+a-c,left:e.center_x-s+l,right:e.center_x+s-d}).right-f.left,p=f.bottom-f.top;e.radius=Math.round(Math.min(_,p)/2),s=a=Math.round(e.radius/2);var u=Math.round(_/2),y=Math.round(p/2);e.center_x=f.left+u,e.center_y=f.top+y,r=n.renderCircle({x:e.center_x,y:e.center_y,r:e.radius});break;case"rect":s=Math.round(e.width/2),a=Math.round(e.height/2);var f={top:e.center_y-a+h,bottom:e.center_y+a-c,left:e.center_x-s+l,right:e.center_x+s-d};e.width=f.right-f.left,e.height=f.bottom-f.top,s=Math.round(e.width/2),a=Math.round(e.height/2),e.center_x=f.left+s,e.center_y=f.top+a,r=n.renderRect({x:e.center_x,y:e.center_y,w:e.width,h:e.height,r:e.radius},.2)}var w=n.enjoyhint.width(),v=n.enjoyhint.height(),m=n.getLabelElement({x:0,y:0,text:e.text}),b=m.outerWidth(),g=m.outerHeight();m.remove();for(var j=e.center_y-a,x=v-(e.center_y+a),k=e.center_x-s,C=w-(e.center_x+s),T=window.innerHeight<670?130:150,$=window.innerHeight<670?0:40,S=T+g+$,M=a+T,B=[{name:"right_center",common_area:C*window.innerHeight,width:C,height:window.innerHeight},{name:"right_top",common_area:C*j,width:C,height:j},{name:"right_bottom",common_area:C*x,width:C,height:x},{name:"left_center",common_area:k*window.innerHeight,width:k,height:window.innerHeight},{name:"left_top",common_area:k*j,width:k,height:j},{name:"left_bottom",common_area:k*x,width:k,height:x},{name:"center_top",common_area:window.innerWidth*j,width:window.innerWidth,height:j},{name:"center_bottom",common_area:window.innerWidth*x,width:window.innerWidth,height:x}],H=b,E=window.innerHeight<=670?S:S+20,N=B.sort(function(t,e){return t.common_area-e.common_area}),W="oversized",D=0;D<N.length;D++){var z=N[D].name,P=N[D];P.width>H&&P.height>E&&(W=z)}var R,q,A,L,F,O,X="circle"===e.shape?2*e.radius:e.width?e.width:2*e.radius,Q="circle"===e.shape?2*e.radius:e.height?e.height:2*e.radius,U=e.center_x+X/2+80,I=e.center_x-b-X/2-80,Y=window.innerWidth/2-b/2,G=e.center_y-M-g,J=e.center_y+M,K=window.innerHeight/2-E/2+20,V="hor";switch(W){case"center_top":q=G,R=Y,A=e.center_x,L=e.center_y-Q/2-20;break;case"center_bottom":q=J,R=Y,A=e.center_x,L=e.center_y+Q/2+20;break;case"left_center":q=K,R=I,A=e.center_x-X/2-20,L=e.center_y,V="ver";break;case"left_top":q=G,R=I,A=e.center_x-X/2,L=e.center_y-20;break;case"left_bottom":q=J,R=I,A=e.center_x-X/2,L=e.center_y+20,V="ver";break;case"right_center":q=K,R=U,A=e.center_x+X/2+20,L=e.center_y,V="ver";break;case"right_top":q=G,R=U,A=e.center_x+X/2,L=e.center_y-20;break;case"right_bottom":q=J,R=U,A=e.center_x+X/2,L=e.center_y+20,V="ver";break;case"oversized":setTimeout(function(){t("#enjoyhint_arrpw_line").remove(),t(".enjoy_hint_label").css({"border-radius":"20px","-webkit-border-radius":"20px","-moz-border-radius":"20px","background-color":"#272A26","-webkit-transition":"background-color ease-out 0.5s","-moz-transition":"background-color ease-out 0.5s","-o-transition":"background-color ease-out 0.5s",transition:"background-color ease-out 0.5s"})},450),q=K,R=Y}F=R+b/2,O=e.center_y>q+g/2?q+g:q,e.center_y<0?L=20:e.center_y>window.innerHeight+20&&(L=window.innerHeight-20),e.center_y>=q&&e.center_y<=q+g&&(F=e.center_x>R?R+b:R,O=e.center_y),n.renderLabel({x:R,y:q,text:e.text}),setTimeout(function(){var t=n.$next_btn.width()+n.$skip_btn.width()+n.$prev_btn.width()+30,e=R-100,i=q+g+40;t+R>A&&(e=A>=F?A+20:R+b/2),(t+e>window.innerWidth||e<0)&&(e=10,i=O<L?q-80:q+g+40);var o=e,r=i;window.innerWidth<=640?(e=10,i=10,n.$next_btn.html("&#8250;"),n.$prev_btn.html("&#8249;")):(e=o,i=r),n.$prev_btn.css({left:e,top:i});var s=e+n.$prev_btn.width()+10,a=e+n.$prev_btn.width()+n.$next_btn.width()+20;"hide"===n.nextBtn&&(a=e+n.$prev_btn.width()+10),"hide"===n.prevBtn&&(s=e,a=e+n.$next_btn.width()+10),n.$next_btn.css({left:s,top:i}),n.$skip_btn.css({left:a,top:i})},0),n.$close_btn.css({right:10,top:10}),n.disableEventsNearRect({top:r.top,bottom:r.bottom,left:r.left,right:r.right}),n.renderArrow({x_from:F,y_from:O,x_to:A,y_to:L,by_top_side:V})},n.clear=function(){n.ctx.clearRect(0,0,3e3,2e3)},this})},set:function(t){return this.each(function(){this.enjoyhint_obj.setValue(t)}),this},show:function(){return this.each(function(){this.enjoyhint_obj.show()}),this},hide:function(){return this.each(function(){this.enjoyhint_obj.hide()}),this},hide_next:function(){return this.each(function(){this.enjoyhint_obj.hideNextBtn()}),this},hide_prev:function(){return this.each(function(){this.enjoyhint_obj.hidePrevBtn()}),this},show_prev:function(){return this.each(function(){this.enjoyhint_obj.showPrevBtn()}),this},show_next:function(){return this.each(function(){this.enjoyhint_obj.showNextBtn()}),this},hide_skip:function(){return this.each(function(){this.enjoyhint_obj.hideSkipBtn()}),this},show_skip:function(){return this.each(function(){this.enjoyhint_obj.showSkipBtn()}),this},render_circle:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderCircle(t,e,n)}),this},render_label:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderLabel(t,e,n)}),this},render_label_with_shape:function(t,e){return this.each(function(){n.stopFunction=e,this.enjoyhint_obj.renderLabelWithShape(t)}),this},redo_events_near_rect:function(t){n.disableEventsNearRect({top:t.top,bottom:t.bottom,left:t.left,right:t.right})},clear:function(){return this.each(function(){this.enjoyhint_obj.clear()}),this},close:function(t){return this.each(function(){this.enjoyhint_obj.closePopdown()}),this}};t.fn.enjoyhint=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on $.numinput"),this):r.init.apply(this,arguments)}}),CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,o){return n<2*o&&(o=n/2),i<2*o&&(o=i/2),this.beginPath(),this.moveTo(t+o,e),this.arcTo(t+n,e,t+n,e+i,o),this.arcTo(t+n,e+i,t,e+i,o),this.arcTo(t,e+i,t,e,o),this.arcTo(t,e,t+n,e,o),this.closePath(),this},function(t){"function"==typeof define&&define.amd?define(["jquery","kinetic"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery"),require("kinetic")):t(jQuery,Kinetic)}(function(t,e){var n,i=window.innerWidth,o=window.innerHeight,r={init:function(r){return this.each(function(){this.enjoyhint_obj={},(n=this.enjoyhint_obj).resetComponentStuff=function(){null,null,null,null,null,null,null,null,null,null,i=window.innerWidth,o=window.innerHeight};var s=t(this);function a(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)n.setAttribute(i,e[i]);return n}n.options=t.extend({onNextClick:function(){},onSkipClick:function(){},onPrevClick:function(){},animation_time:800},r),n.gcl={chooser:"enjoyhint"},n.cl={enjoy_hint:"enjoyhint",hide:"enjoyhint_hide",disable_events_element:"enjoyhint_disable_events",btn:"enjoyhint_btn",skip_btn:"enjoyhint_skip_btn",close_btn:"enjoyhint_close_btn",next_btn:"enjoyhint_next_btn",previous_btn:"enjoyhint_prev_btn",main_canvas:"enjoyhint_canvas",main_svg:"enjoyhint_svg",svg_wrapper:"enjoyhint_svg_wrapper",svg_transparent:"enjoyhint_svg_transparent",kinetic_container:"kinetic_container"},n.canvas_size={w:1.4*t(window).width(),h:1.4*t(window).height()};n.enjoyhint=t("<div>",{class:n.cl.enjoy_hint+" "+n.cl.svg_transparent}).appendTo(s),n.enjoyhint_svg_wrapper=t("<div>",{class:n.cl.svg_wrapper+" "+n.cl.svg_transparent}).appendTo(n.enjoyhint),n.$stage_container=t('<div id="'+n.cl.kinetic_container+'">').appendTo(n.enjoyhint),n.$canvas=t('<canvas id="enj_canvas" width="'+n.canvas_size.w+'" height="'+n.canvas_size.h+'" class="'+n.cl.main_canvas+'">').appendTo(n.enjoyhint),n.$svg=t('<svg width="'+n.canvas_size.w+'" height="'+n.canvas_size.h+'" class="'+n.cl.main_canvas+" "+n.cl.main_svg+'">').appendTo(n.enjoyhint_svg_wrapper);var h=t(a("defs")),c=t(a("marker",{id:"arrowMarker",viewBox:"0 0 36 21",refX:"21",refY:"10",markerUnits:"strokeWidth",orient:"auto",markerWidth:"16",markerHeight:"12"})),l=t(a("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:2",d:"M0,0 c30,11 30,9 0,20",id:"poliline"}));h.append(c.append(l)).appendTo(n.$svg),n.kinetic_stage=new e.Stage({container:n.cl.kinetic_container,width:n.canvas_size.w,height:n.canvas_size.h,scaleX:1}),n.layer=new e.Layer,n.rect=new e.Rect({fill:r.fill,width:n.canvas_size.w,height:n.canvas_size.h});var d=t("<div>",{class:n.cl.disable_events_element}).appendTo(n.enjoyhint),_=d.clone().appendTo(n.enjoyhint),p=d.clone().appendTo(n.enjoyhint),u=d.clone().appendTo(n.enjoyhint),y=function(t){t.stopImmediatePropagation()};t("button").focusout(y),d.click(y),_.click(y),p.click(y),u.click(y),n.$skip_btn=t("<div>",{class:n.cl.skip_btn}).appendTo(n.enjoyhint).html("Fechar").click(function(t){n.hide(),n.options.onSkipClick()}),n.$next_btn=t("<div>",{class:n.cl.next_btn}).appendTo(n.enjoyhint).html("PrÃ³ximo").click(function(t){n.options.onNextClick()}),n.$close_btn=t("<div>",{class:n.cl.close_btn}).appendTo(n.enjoyhint).html("").click(function(t){n.hide(),n.options.onSkipClick()}),n.$prev_btn=t("<div>",{class:n.cl.previous_btn}).appendTo(n.enjoyhint).html("Anterior").click(function(t){n.options.onPrevClick()}),n.$canvas.mousedown(function(e){t("canvas").css({left:"4000px"});var n=document.elementFromPoint(e.clientX,e.clientY);return t("canvas").css({left:"0px"}),t(n).click(),!1});var f;n.shape=new e.Shape({radius:0,center_x:-130,center_y:-130,width:0,height:0,sceneFunc:function(t){var e=this.getContext("2d")._context,n=(this.pos,e.globalCompositeOperation);e.globalCompositeOperation="destination-out",e.beginPath();var i=this.attrs.center_x-Math.round(this.attrs.width/2),o=this.attrs.center_y-Math.round(this.attrs.height/2);e.roundRect(i,o,this.attrs.width,this.attrs.height,this.attrs.radius),e.fill(),e.globalCompositeOperation=n}}),n.shape.radius=0,n.layer.add(n.rect),n.layer.add(n.shape),n.kinetic_stage.add(n.layer),t(window).on("resize",function(){if(clearTimeout(f),t(".enjoyhint_next_btn").css("visibility","hidden"),t(".enjoyhint_prev_btn").css("visibility","hidden"),t(".enjoyhint_skip_btn").css("visibility","hidden"),t(".enjoy_hint_label").remove(),t("#enjoyhint_arrpw_line").remove(),!t(n.stepData.enjoyHintElementSelector).is(":visible"))return n.stopFunction(),void t(window).off("resize");var s=t(n.stepData.enjoyHintElementSelector)[0].getBoundingClientRect();function a(){var e=t(n.stepData.enjoyHintElementSelector).get(0).getBoundingClientRect();n.stepData.center_x=e.left+e.width/2,n.stepData.center_y=e.top+e.height/2,n.stepData.width=e.width+11,n.stepData.height=e.height+11,n.renderLabelWithShape(n.stepData),t(".enjoyhint_next_btn").css("visibility","visible"),t(".enjoyhint_prev_btn").css("visibility","visible"),t(".enjoyhint_skip_btn").css("visibility","visible")}n.shape.attrs.center_x=Math.round(s.left+s.width/2),n.shape.attrs.center_y=Math.round(s.top+s.height/2),n.shape.attrs.width=s.width+11,n.shape.attrs.height=s.height+11,f=setTimeout(function(){s.top<0||s.bottom>(window.innerHeight||document.documentElement.clientHeight)?t(document.body).scrollTo(n.stepData.enjoyHintElementSelector,150,{offset:-200,onAfter:a}):a()},150);var h=window.innerWidth,c=window.innerHeight,l=h/i,d=c/o;n.kinetic_stage.setAttr("width",i*l),n.kinetic_stage.setAttr("height",o*d),n.rect=new e.Rect({fill:r.fill,width:window.innerWidth,height:window.innerHeight}),n.layer.removeChildren(),n.layer.add(n.rect),n.layer.add(n.shape),n.kinetic_stage.draw()});n.enjoyhint;return n.show=function(){n.enjoyhint.removeClass(n.cl.hide)},n.hide=function(){n.enjoyhint.addClass(n.cl.hide),new e.Tween({node:n.shape,duration:.002,center_x:-130,center_y:-130}).play()},n.hide(),n.hideNextBtn=function(){n.$next_btn.addClass(n.cl.hide),n.nextBtn="hide"},n.hidePrevBtn=function(){n.$prev_btn.addClass(n.cl.hide),n.prevBtn="hide"},n.showPrevBtn=function(){n.$prev_btn.removeClass(n.cl.hide),n.prevBtn="show"},n.showNextBtn=function(){n.$next_btn.removeClass(n.cl.hide),n.nextBtn="show"},n.hideSkipBtn=function(){n.$skip_btn.addClass(n.cl.hide)},n.showSkipBtn=function(){n.$skip_btn.removeClass(n.cl.hide)},n.renderCircle=function(t){var i=t.r||0,o=t.x||0,r=t.y||0;new e.Tween({node:n.shape,duration:.2,center_x:o,center_y:r,width:2*i,height:2*i,radius:i}).play();var s=o-i,a=o+i,h=r-i,c=r+i;return{x:o,y:r,left:s,right:a,top:h,bottom:c,conn:{left:{x:s-20,y:r},right:{x:a+20,y:r},top:{x:o,y:h-20},bottom:{x:o,y:c+20}}}},n.renderRect=function(t,i){var o=t.r||0,r=t.x||0,s=t.y||0,a=t.w||0,h=t.h||0;new e.Tween({node:n.shape,duration:i,center_x:r,center_y:s,width:a,height:h,radius:o}).play();var c=Math.round(a/2),l=Math.round(h/2),d=r-c,_=r+c,p=s-l,u=s+l;return{x:r,y:s,left:d,right:_,top:p,bottom:u,conn:{left:{x:d-20,y:s},right:{x:_+20,y:s},top:{x:r,y:p-20},bottom:{x:r,y:u+20}}}},n.renderLabel=function(e){var i=e.x||0;n.originalElementX=i;var o=e.y||0,r=(e.text,n.getLabelElement({x:i,y:o,text:e.text})),s=r.width(),a=r.height(),h=r.offset().left,c=r.offset().left+s,l=r.offset().top-t(document).scrollTop(),d=r.offset().top-t(document).scrollTop()+a,_={x:h-10,y:l+Math.round(a/2)},p={x:c+10,y:l+Math.round(a/2)},u={x:h+Math.round(s/2),y:l-10},y={x:h+Math.round(s/2),y:d+10};return r.detach(),setTimeout(function(){t("#enjoyhint_label").remove(),r.appendTo(n.enjoyhint)},n.options.animation_time/2),{label:r,left:h,right:c,top:l,bottom:d,conn:{left:_,right:p,top:u,bottom:y}}},n.setMarkerColor=function(e){if(function(t){const e=(new Option).style;return e.color=t,""!==e.color}(e))return[t("#poliline"),t("#enjoyhint_arrpw_line")].forEach(function(t){t.css("stroke",e)});t("#poliline").css("stroke","rgb(255,255,255)")},n.renderArrow=function(e){var i=e.x_from||0,o=e.y_from||0,r=e.x_to||0,s=e.y_to||0,h=0,c=0;"hor"===e.by_top_side?(h=r,c=o):(h=i,c=s),n.enjoyhint.addClass(n.cl.svg_transparent),setTimeout(function(){t("#enjoyhint_arrpw_line").remove();var e="M"+i+","+o+" Q"+h+","+c+" "+r+","+s;n.$svg.append(a("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:3","marker-end":"url(#arrowMarker)",d:e,id:"enjoyhint_arrpw_line"})),n.stepData.arrowColor?n.setMarkerColor(n.stepData.arrowColor):t("#poliline").css("stroke","rgb(255, 255, 255)"),n.enjoyhint.removeClass(n.cl.svg_transparent)},n.options.animation_time/2)},n.getLabelElement=function(e){return t("<div>",{class:"enjoy_hint_label",id:"enjoyhint_label"}).css({top:e.y+"px",left:e.x+"px"}).html(e.text).appendTo(n.enjoyhint)},n.disableEventsNearRect=function(t){d.css({top:"0",left:"0"}).height(t.top),_.css({top:t.bottom+"px",left:"0"}),p.css({top:"0",left:"0px"}).width(t.left),u.css({top:"0",left:t.right+"px"})},function(t){t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(t),n.renderLabelWithShape=function(e){n.stepData=e;var i=function e(n){return"MD-DIALOG"===n.tagName?n:void 0===n.tagName?null:e(t(n).parent()[0])}(t(n.stepData.enjoyHintElementSelector)[0]);null!=i&&t(i).on("dialogClosing",function(){n.stopFunction()}),n.resetComponentStuff();var o=e.shape||"rect",r={},s=0,a=0,h=e.top||0,c=e.bottom||0,l=e.left||0,d=e.right||0;switch(o){case"circle":s=a=e.radius;var _=(f={top:e.center_y-a+h,bottom:e.center_y+a-c,left:e.center_x-s+l,right:e.center_x+s-d}).right-f.left,p=f.bottom-f.top;e.radius=Math.round(Math.min(_,p)/2),s=a=Math.round(e.radius/2);var u=Math.round(_/2),y=Math.round(p/2);e.center_x=f.left+u,e.center_y=f.top+y,r=n.renderCircle({x:e.center_x,y:e.center_y,r:e.radius});break;case"rect":s=Math.round(e.width/2),a=Math.round(e.height/2);var f={top:e.center_y-a+h,bottom:e.center_y+a-c,left:e.center_x-s+l,right:e.center_x+s-d};e.width=f.right-f.left,e.height=f.bottom-f.top,s=Math.round(e.width/2),a=Math.round(e.height/2),e.center_x=f.left+s,e.center_y=f.top+a,r=n.renderRect({x:e.center_x,y:e.center_y,w:e.width,h:e.height,r:e.radius},.2)}var w=n.enjoyhint.width(),v=n.enjoyhint.height(),m=n.getLabelElement({x:0,y:0,text:e.text}),b=m.outerWidth(),g=m.outerHeight();m.remove();for(var j=e.center_y-a,x=v-(e.center_y+a),k=e.center_x-s,C=w-(e.center_x+s),T=window.innerHeight<670?130:150,$=window.innerHeight<670?0:40,S=T+g+$,M=a+T,B=[{name:"right_center",common_area:C*window.innerHeight,width:C,height:window.innerHeight},{name:"right_top",common_area:C*j,width:C,height:j},{name:"right_bottom",common_area:C*x,width:C,height:x},{name:"left_center",common_area:k*window.innerHeight,width:k,height:window.innerHeight},{name:"left_top",common_area:k*j,width:k,height:j},{name:"left_bottom",common_area:k*x,width:k,height:x},{name:"center_top",common_area:window.innerWidth*j,width:window.innerWidth,height:j},{name:"center_bottom",common_area:window.innerWidth*x,width:window.innerWidth,height:x}],H=b,E=window.innerHeight<=670?S:S+20,N=B.sort(function(t,e){return t.common_area-e.common_area}),W="oversized",D=0;D<N.length;D++){var z=N[D].name,P=N[D];P.width>H&&P.height>E&&(W=z)}var R,q,A,L,F,O,X="circle"===e.shape?2*e.radius:e.width?e.width:2*e.radius,Q="circle"===e.shape?2*e.radius:e.height?e.height:2*e.radius,U=e.center_x+X/2+80,I=e.center_x-b-X/2-80,Y=window.innerWidth/2-b/2,G=e.center_y-M-g,J=e.center_y+M,K=window.innerHeight/2-E/2+20,V="hor";switch(W){case"center_top":q=G,R=Y,A=e.center_x,L=e.center_y-Q/2-20;break;case"center_bottom":q=J,R=Y,A=e.center_x,L=e.center_y+Q/2+20;break;case"left_center":q=K,R=I,A=e.center_x-X/2-20,L=e.center_y,V="ver";break;case"left_top":q=G,R=I,A=e.center_x-X/2,L=e.center_y-20;break;case"left_bottom":q=J,R=I,A=e.center_x-X/2,L=e.center_y+20,V="ver";break;case"right_center":q=K,R=U,A=e.center_x+X/2+20,L=e.center_y,V="ver";break;case"right_top":q=G,R=U,A=e.center_x+X/2,L=e.center_y-20;break;case"right_bottom":q=J,R=U,A=e.center_x+X/2,L=e.center_y+20,V="ver";break;case"oversized":setTimeout(function(){t("#enjoyhint_arrpw_line").remove(),t(".enjoy_hint_label").css({"border-radius":"20px","-webkit-border-radius":"20px","-moz-border-radius":"20px","background-color":"#272A26","-webkit-transition":"background-color ease-out 0.5s","-moz-transition":"background-color ease-out 0.5s","-o-transition":"background-color ease-out 0.5s",transition:"background-color ease-out 0.5s"})},450),q=K,R=Y}F=R+b/2,O=e.center_y>q+g/2?q+g:q,e.center_y<0?L=20:e.center_y>window.innerHeight+20&&(L=window.innerHeight-20),e.center_y>=q&&e.center_y<=q+g&&(F=e.center_x>R?R+b:R,O=e.center_y),n.renderLabel({x:R,y:q,text:e.text}),setTimeout(function(){var t=n.$next_btn.width()+n.$skip_btn.width()+n.$prev_btn.width()+30,e=R-100,i=q+g+40;t+R>A&&(e=A>=F?A+20:R+b/2),(t+e>window.innerWidth||e<0)&&(e=10,i=O<L?q-80:q+g+40);var o=e,r=i;window.innerWidth<=640?(e=10,i=10,n.$next_btn.html("&#8250;"),n.$prev_btn.html("&#8249;")):(e=o,i=r,n.$next_btn.html("PrÃ³ximo"),n.$prev_btn.html("Anterior")),n.$prev_btn.css({left:e,top:i});var s=e+n.$prev_btn.width()+10,a=e+n.$prev_btn.width()+n.$next_btn.width()+20;"hide"===n.nextBtn&&(a=e+n.$prev_btn.width()+10),"hide"===n.prevBtn&&(s=e,a=e+n.$next_btn.width()+10),n.$next_btn.css({left:s,top:i}),n.$skip_btn.css({left:a,top:i})},0),n.$close_btn.css({right:10,top:10}),n.disableEventsNearRect({top:r.top,bottom:r.bottom,left:r.left,right:r.right}),n.renderArrow({x_from:F,y_from:O,x_to:A,y_to:L,by_top_side:V})},n.clear=function(){n.ctx.clearRect(0,0,3e3,2e3)},this})},set:function(t){return this.each(function(){this.enjoyhint_obj.setValue(t)}),this},show:function(){return this.each(function(){this.enjoyhint_obj.show()}),this},hide:function(){return this.each(function(){this.enjoyhint_obj.hide()}),this},hide_next:function(){return this.each(function(){this.enjoyhint_obj.hideNextBtn()}),this},hide_prev:function(){return this.each(function(){this.enjoyhint_obj.hidePrevBtn()}),this},show_prev:function(){return this.each(function(){this.enjoyhint_obj.showPrevBtn()}),this},show_next:function(){return this.each(function(){this.enjoyhint_obj.showNextBtn()}),this},hide_skip:function(){return this.each(function(){this.enjoyhint_obj.hideSkipBtn()}),this},show_skip:function(){return this.each(function(){this.enjoyhint_obj.showSkipBtn()}),this},render_circle:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderCircle(t,e,n)}),this},render_label:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderLabel(t,e,n)}),this},render_label_with_shape:function(t,e){return this.each(function(){n.stopFunction=e,this.enjoyhint_obj.renderLabelWithShape(t)}),this},redo_events_near_rect:function(t){n.disableEventsNearRect({top:t.top,bottom:t.bottom,left:t.left,right:t.right})},clear:function(){return this.each(function(){this.enjoyhint_obj.clear()}),this},close:function(t){return this.each(function(){this.enjoyhint_obj.closePopdown()}),this}};t.fn.enjoyhint=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on $.numinput"),this):r.init.apply(this,arguments)}}),CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,o){return n<2*o&&(o=n/2),i<2*o&&(o=i/2),this.beginPath(),this.moveTo(t+o,e),this.arcTo(t+n,e,t+n,e+i,o),this.arcTo(t+n,e+i,t,e+i,o),this.arcTo(t,e+i,t,e,o),this.arcTo(t,e,t+n,e,o),this.closePath(),this},function(t){"function"==typeof define&&define.amd?define(["jquery","kinetic"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery"),require("kinetic")):t(jQuery,Kinetic)}(function(t,e){var n,i=window.innerWidth,o=window.innerHeight,r={init:function(r){return this.each(function(){this.enjoyhint_obj={},(n=this.enjoyhint_obj).resetComponentStuff=function(){null,null,null,null,null,null,null,null,null,null,i=window.innerWidth,o=window.innerHeight};var s=t(this);function a(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)n.setAttribute(i,e[i]);return n}n.options=t.extend({onNextClick:function(){},onSkipClick:function(){},onPrevClick:function(){},animation_time:800},r),n.gcl={chooser:"enjoyhint"},n.cl={enjoy_hint:"enjoyhint",hide:"enjoyhint_hide",disable_events_element:"enjoyhint_disable_events",btn:"enjoyhint_btn",skip_btn:"enjoyhint_skip_btn",close_btn:"enjoyhint_close_btn",next_btn:"enjoyhint_next_btn",previous_btn:"enjoyhint_prev_btn",main_canvas:"enjoyhint_canvas",main_svg:"enjoyhint_svg",svg_wrapper:"enjoyhint_svg_wrapper",svg_transparent:"enjoyhint_svg_transparent",kinetic_container:"kinetic_container"},n.canvas_size={w:1.4*t(window).width(),h:1.4*t(window).height()};n.enjoyhint=t("<div>",{class:n.cl.enjoy_hint+" "+n.cl.svg_transparent}).appendTo(s),n.enjoyhint_svg_wrapper=t("<div>",{class:n.cl.svg_wrapper+" "+n.cl.svg_transparent}).appendTo(n.enjoyhint),n.$stage_container=t('<div id="'+n.cl.kinetic_container+'">').appendTo(n.enjoyhint),n.$canvas=t('<canvas id="enj_canvas" width="'+n.canvas_size.w+'" height="'+n.canvas_size.h+'" class="'+n.cl.main_canvas+'">').appendTo(n.enjoyhint),n.$svg=t('<svg width="'+n.canvas_size.w+'" height="'+n.canvas_size.h+'" class="'+n.cl.main_canvas+" "+n.cl.main_svg+'">').appendTo(n.enjoyhint_svg_wrapper);var h=t(a("defs")),c=t(a("marker",{id:"arrowMarker",viewBox:"0 0 36 21",refX:"21",refY:"10",markerUnits:"strokeWidth",orient:"auto",markerWidth:"16",markerHeight:"12"})),l=t(a("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:2",d:"M0,0 c30,11 30,9 0,20",id:"poliline"}));h.append(c.append(l)).appendTo(n.$svg),n.kinetic_stage=new e.Stage({container:n.cl.kinetic_container,width:n.canvas_size.w,height:n.canvas_size.h,scaleX:1}),n.layer=new e.Layer,n.rect=new e.Rect({fill:r.fill,width:n.canvas_size.w,height:n.canvas_size.h});var d=t("<div>",{class:n.cl.disable_events_element}).appendTo(n.enjoyhint),_=d.clone().appendTo(n.enjoyhint),p=d.clone().appendTo(n.enjoyhint),u=d.clone().appendTo(n.enjoyhint),y=function(t){t.stopImmediatePropagation()};t("button").focusout(y),d.click(y),_.click(y),p.click(y),u.click(y),n.$skip_btn=t("<div>",{class:n.cl.skip_btn}).appendTo(n.enjoyhint).html("Skip").click(function(t){n.hide(),n.options.onSkipClick()}),n.$next_btn=t("<div>",{class:n.cl.next_btn}).appendTo(n.enjoyhint).html("Next").click(function(t){n.options.onNextClick()}),n.$close_btn=t("<div>",{class:n.cl.close_btn}).appendTo(n.enjoyhint).html("").click(function(t){n.hide(),n.options.onSkipClick()}),n.$prev_btn=t("<div>",{class:n.cl.previous_btn}).appendTo(n.enjoyhint).html("Previous").click(function(t){n.options.onPrevClick()}),n.$canvas.mousedown(function(e){t("canvas").css({left:"4000px"});var n=document.elementFromPoint(e.clientX,e.clientY);return t("canvas").css({left:"0px"}),t(n).click(),!1});var f;n.shape=new e.Shape({radius:0,center_x:-130,center_y:-130,width:0,height:0,sceneFunc:function(t){var e=this.getContext("2d")._context,n=(this.pos,e.globalCompositeOperation);e.globalCompositeOperation="destination-out",e.beginPath();var i=this.attrs.center_x-Math.round(this.attrs.width/2),o=this.attrs.center_y-Math.round(this.attrs.height/2);e.roundRect(i,o,this.attrs.width,this.attrs.height,this.attrs.radius),e.fill(),e.globalCompositeOperation=n}}),n.shape.radius=0,n.layer.add(n.rect),n.layer.add(n.shape),n.kinetic_stage.add(n.layer),t(window).on("resize",function(){if(clearTimeout(f),t(".enjoyhint_next_btn").css("visibility","hidden"),t(".enjoyhint_prev_btn").css("visibility","hidden"),t(".enjoyhint_skip_btn").css("visibility","hidden"),t(".enjoy_hint_label").remove(),t("#enjoyhint_arrpw_line").remove(),!t(n.stepData.enjoyHintElementSelector).is(":visible"))return n.stopFunction(),void t(window).off("resize");var s=t(n.stepData.enjoyHintElementSelector)[0].getBoundingClientRect();function a(){var e=t(n.stepData.enjoyHintElementSelector).get(0).getBoundingClientRect();n.stepData.center_x=e.left+e.width/2,n.stepData.center_y=e.top+e.height/2,n.stepData.width=e.width+11,n.stepData.height=e.height+11,n.renderLabelWithShape(n.stepData),t(".enjoyhint_next_btn").css("visibility","visible"),t(".enjoyhint_prev_btn").css("visibility","visible"),t(".enjoyhint_skip_btn").css("visibility","visible")}n.shape.attrs.center_x=Math.round(s.left+s.width/2),n.shape.attrs.center_y=Math.round(s.top+s.height/2),n.shape.attrs.width=s.width+11,n.shape.attrs.height=s.height+11,f=setTimeout(function(){s.top<0||s.bottom>(window.innerHeight||document.documentElement.clientHeight)?t(document.body).scrollTo(n.stepData.enjoyHintElementSelector,150,{offset:-200,onAfter:a}):a()},150);var h=window.innerWidth,c=window.innerHeight,l=h/i,d=c/o;n.kinetic_stage.setAttr("width",i*l),n.kinetic_stage.setAttr("height",o*d),n.rect=new e.Rect({fill:r.fill,width:window.innerWidth,height:window.innerHeight}),n.layer.removeChildren(),n.layer.add(n.rect),n.layer.add(n.shape),n.kinetic_stage.draw()});n.enjoyhint;return n.show=function(){n.enjoyhint.removeClass(n.cl.hide)},n.hide=function(){n.enjoyhint.addClass(n.cl.hide),new e.Tween({node:n.shape,duration:.002,center_x:-130,center_y:-130}).play()},n.hide(),n.hideNextBtn=function(){n.$next_btn.addClass(n.cl.hide),n.nextBtn="hide"},n.hidePrevBtn=function(){n.$prev_btn.addClass(n.cl.hide),n.prevBtn="hide"},n.showPrevBtn=function(){n.$prev_btn.removeClass(n.cl.hide),n.prevBtn="show"},n.showNextBtn=function(){n.$next_btn.removeClass(n.cl.hide),n.nextBtn="show"},n.hideSkipBtn=function(){n.$skip_btn.addClass(n.cl.hide)},n.showSkipBtn=function(){n.$skip_btn.removeClass(n.cl.hide)},n.renderCircle=function(t){var i=t.r||0,o=t.x||0,r=t.y||0;new e.Tween({node:n.shape,duration:.2,center_x:o,center_y:r,width:2*i,height:2*i,radius:i}).play();var s=o-i,a=o+i,h=r-i,c=r+i;return{x:o,y:r,left:s,right:a,top:h,bottom:c,conn:{left:{x:s-20,y:r},right:{x:a+20,y:r},top:{x:o,y:h-20},bottom:{x:o,y:c+20}}}},n.renderRect=function(t,i){var o=t.r||0,r=t.x||0,s=t.y||0,a=t.w||0,h=t.h||0;new e.Tween({node:n.shape,duration:i,center_x:r,center_y:s,width:a,height:h,radius:o}).play();var c=Math.round(a/2),l=Math.round(h/2),d=r-c,_=r+c,p=s-l,u=s+l;return{x:r,y:s,left:d,right:_,top:p,bottom:u,conn:{left:{x:d-20,y:s},right:{x:_+20,y:s},top:{x:r,y:p-20},bottom:{x:r,y:u+20}}}},n.renderLabel=function(e){var i=e.x||0;n.originalElementX=i;var o=e.y||0,r=(e.text,n.getLabelElement({x:i,y:o,text:e.text})),s=r.width(),a=r.height(),h=r.offset().left,c=r.offset().left+s,l=r.offset().top-t(document).scrollTop(),d=r.offset().top-t(document).scrollTop()+a,_={x:h-10,y:l+Math.round(a/2)},p={x:c+10,y:l+Math.round(a/2)},u={x:h+Math.round(s/2),y:l-10},y={x:h+Math.round(s/2),y:d+10};return r.detach(),setTimeout(function(){t("#enjoyhint_label").remove(),r.appendTo(n.enjoyhint)},n.options.animation_time/2),{label:r,left:h,right:c,top:l,bottom:d,conn:{left:_,right:p,top:u,bottom:y}}},n.setMarkerColor=function(e){if(function(t){const e=(new Option).style;return e.color=t,""!==e.color}(e))return[t("#poliline"),t("#enjoyhint_arrpw_line")].forEach(function(t){t.css("stroke",e)});t("#poliline").css("stroke","rgb(255,255,255)"),console.log("Error: invalid color name property - "+e)},n.renderArrow=function(e){var i=e.x_from||0,o=e.y_from||0,r=e.x_to||0,s=e.y_to||0,h=0,c=0;"hor"===e.by_top_side?(h=r,c=o):(h=i,c=s),n.enjoyhint.addClass(n.cl.svg_transparent),setTimeout(function(){t("#enjoyhint_arrpw_line").remove();var e="M"+i+","+o+" Q"+h+","+c+" "+r+","+s;n.$svg.append(a("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:3","marker-end":"url(#arrowMarker)",d:e,id:"enjoyhint_arrpw_line"})),n.stepData.arrowColor?n.setMarkerColor(n.stepData.arrowColor):t("#poliline").css("stroke","rgb(255, 255, 255)"),n.enjoyhint.removeClass(n.cl.svg_transparent)},n.options.animation_time/2)},n.getLabelElement=function(e){return t("<div>",{class:"enjoy_hint_label",id:"enjoyhint_label"}).css({top:e.y+"px",left:e.x+"px"}).html(e.text).appendTo(n.enjoyhint)},n.disableEventsNearRect=function(t){d.css({top:"0",left:"0"}).height(t.top),_.css({top:t.bottom+"px",left:"0"}),p.css({top:"0",left:"0px"}).width(t.left),u.css({top:"0",left:t.right+"px"})},function(t){t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(t),n.renderLabelWithShape=function(e){n.stepData=e;var i=function e(n){return"MD-DIALOG"===n.tagName?n:void 0===n.tagName?null:e(t(n).parent()[0])}(t(n.stepData.enjoyHintElementSelector)[0]);null!=i&&t(i).on("dialogClosing",function(){n.stopFunction()}),n.resetComponentStuff();var o=e.shape||"rect",r={},s=0,a=0,h=e.top||0,c=e.bottom||0,l=e.left||0,d=e.right||0;switch(o){case"circle":s=a=e.radius;var _=(f={top:e.center_y-a+h,bottom:e.center_y+a-c,left:e.center_x-s+l,right:e.center_x+s-d}).right-f.left,p=f.bottom-f.top;e.radius=Math.round(Math.min(_,p)/2),s=a=Math.round(e.radius/2);var u=Math.round(_/2),y=Math.round(p/2);e.center_x=f.left+u,e.center_y=f.top+y,r=n.renderCircle({x:e.center_x,y:e.center_y,r:e.radius});break;case"rect":s=Math.round(e.width/2),a=Math.round(e.height/2);var f={top:e.center_y-a+h,bottom:e.center_y+a-c,left:e.center_x-s+l,right:e.center_x+s-d};e.width=f.right-f.left,e.height=f.bottom-f.top,s=Math.round(e.width/2),a=Math.round(e.height/2),e.center_x=f.left+s,e.center_y=f.top+a,r=n.renderRect({x:e.center_x,y:e.center_y,w:e.width,h:e.height,r:e.radius},.2)}var w=n.enjoyhint.width(),v=n.enjoyhint.height(),m=n.getLabelElement({x:0,y:0,text:e.text}),b=m.outerWidth(),g=m.outerHeight();m.remove();for(var j=e.center_y-a,x=v-(e.center_y+a),k=e.center_x-s,C=w-(e.center_x+s),T=window.innerHeight<670?130:150,$=window.innerHeight<670?0:40,S=T+g+$,M=a+T,B=[{name:"right_center",common_area:C*window.innerHeight,width:C,height:window.innerHeight},{name:"right_top",common_area:C*j,width:C,height:j},{name:"right_bottom",common_area:C*x,width:C,height:x},{name:"left_center",common_area:k*window.innerHeight,width:k,height:window.innerHeight},{name:"left_top",common_area:k*j,width:k,height:j},{name:"left_bottom",common_area:k*x,width:k,height:x},{name:"center_top",common_area:window.innerWidth*j,width:window.innerWidth,height:j},{name:"center_bottom",common_area:window.innerWidth*x,width:window.innerWidth,height:x}],H=b,E=window.innerHeight<=670?S:S+20,N=B.sort(function(t,e){return t.common_area-e.common_area}),W="oversized",D=0;D<N.length;D++){var z=N[D].name,P=N[D];P.width>H&&P.height>E&&(W=z)}var R,q,A,L,F,O,X="circle"===e.shape?2*e.radius:e.width?e.width:2*e.radius,Q="circle"===e.shape?2*e.radius:e.height?e.height:2*e.radius,U=e.center_x+X/2+80,I=e.center_x-b-X/2-80,Y=window.innerWidth/2-b/2,G=e.center_y-M-g,J=e.center_y+M,K=window.innerHeight/2-E/2+20,V="hor";switch(W){case"center_top":q=G,R=Y,A=e.center_x,L=e.center_y-Q/2-20;break;case"center_bottom":q=J,R=Y,A=e.center_x,L=e.center_y+Q/2+20;break;case"left_center":q=K,R=I,A=e.center_x-X/2-20,L=e.center_y,V="ver";break;case"left_top":q=G,R=I,A=e.center_x-X/2,L=e.center_y-20;break;case"left_bottom":q=J,R=I,A=e.center_x-X/2,L=e.center_y+20,V="ver";break;case"right_center":q=K,R=U,A=e.center_x+X/2+20,L=e.center_y,V="ver";break;case"right_top":q=G,R=U,A=e.center_x+X/2,L=e.center_y-20;break;case"right_bottom":q=J,R=U,A=e.center_x+X/2,L=e.center_y+20,V="ver";break;case"oversized":setTimeout(function(){t("#enjoyhint_arrpw_line").remove(),t(".enjoy_hint_label").css({"border-radius":"20px","-webkit-border-radius":"20px","-moz-border-radius":"20px","background-color":"#272A26","-webkit-transition":"background-color ease-out 0.5s","-moz-transition":"background-color ease-out 0.5s","-o-transition":"background-color ease-out 0.5s",transition:"background-color ease-out 0.5s"})},450),q=K,R=Y}F=R+b/2,O=e.center_y>q+g/2?q+g:q,e.center_y<0?L=20:e.center_y>window.innerHeight+20&&(L=window.innerHeight-20),e.center_y>=q&&e.center_y<=q+g&&(F=e.center_x>R?R+b:R,O=e.center_y),n.renderLabel({x:R,y:q,text:e.text}),setTimeout(function(){var t=n.$next_btn.width()+n.$skip_btn.width()+n.$prev_btn.width()+30,e=R-100,i=q+g+40;t+R>A&&(e=A>=F?A+20:R+b/2),(t+e>window.innerWidth||e<0)&&(e=10,i=O<L?q-80:q+g+40);var o=e,r=i;window.innerWidth<=640?(e=10,i=10,n.$next_btn.html("&#8250;"),n.$prev_btn.html("&#8249;")):(e=o,i=r,n.$next_btn.html("Next"),n.$prev_btn.html("Previous")),n.$prev_btn.css({left:e,top:i});var s=e+n.$prev_btn.width()+10,a=e+n.$prev_btn.width()+n.$next_btn.width()+20;"hide"===n.nextBtn&&(a=e+n.$prev_btn.width()+10),"hide"===n.prevBtn&&(s=e,a=e+n.$next_btn.width()+10),n.$next_btn.css({left:s,top:i}),n.$skip_btn.css({left:a,top:i})},0),n.$close_btn.css({right:10,top:10}),n.disableEventsNearRect({top:r.top,bottom:r.bottom,left:r.left,right:r.right}),n.renderArrow({x_from:F,y_from:O,x_to:A,y_to:L,by_top_side:V})},n.clear=function(){n.ctx.clearRect(0,0,3e3,2e3)},this})},set:function(t){return this.each(function(){this.enjoyhint_obj.setValue(t)}),this},show:function(){return this.each(function(){this.enjoyhint_obj.show()}),this},hide:function(){return this.each(function(){this.enjoyhint_obj.hide()}),this},hide_next:function(){return this.each(function(){this.enjoyhint_obj.hideNextBtn()}),this},hide_prev:function(){return this.each(function(){this.enjoyhint_obj.hidePrevBtn()}),this},show_prev:function(){return this.each(function(){this.enjoyhint_obj.showPrevBtn()}),this},show_next:function(){return this.each(function(){this.enjoyhint_obj.showNextBtn()}),this},hide_skip:function(){return this.each(function(){this.enjoyhint_obj.hideSkipBtn()}),this},show_skip:function(){return this.each(function(){this.enjoyhint_obj.showSkipBtn()}),this},render_circle:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderCircle(t,e,n)}),this},render_label:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderLabel(t,e,n)}),this},render_label_with_shape:function(t,e){return this.each(function(){n.stopFunction=e,this.enjoyhint_obj.renderLabelWithShape(t)}),this},redo_events_near_rect:function(t){n.disableEventsNearRect({top:t.top,bottom:t.bottom,left:t.left,right:t.right})},clear:function(){return this.each(function(){this.enjoyhint_obj.clear()}),this},close:function(t){return this.each(function(){this.enjoyhint_obj.closePopdown()}),this}};t.fn.enjoyhint=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on $.numinput"),this):r.init.apply(this,arguments)}});